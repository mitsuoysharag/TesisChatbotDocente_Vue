(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a18aa57"],{"0fd9":function(t,e,a){"use strict";a("4b85");var i=a("2b0e"),s=a("d9f7"),o=a("80d2");const r=["sm","md","lg","xl"],n=["start","end","center"];function l(t,e){return r.reduce((a,i)=>{return a[t+Object(o["y"])(i)]=e(),a},{})}const c=t=>[...n,"baseline","stretch"].includes(t),u=l("align",()=>({type:String,default:null,validator:c})),m=t=>[...n,"space-between","space-around"].includes(t),d=l("justify",()=>({type:String,default:null,validator:m})),p=t=>[...n,"space-between","space-around","stretch"].includes(t),h=l("alignContent",()=>({type:String,default:null,validator:p})),v={align:Object.keys(u),justify:Object.keys(d),alignContent:Object.keys(h)},_={align:"align",justify:"justify",alignContent:"align-content"};function g(t,e,a){let i=_[t];if(null!=a){if(e){const a=e.replace(t,"");i+=`-${a}`}return i+=`-${a}`,i.toLowerCase()}}const f=new Map;e["a"]=i["a"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:m},...d,alignContent:{type:String,default:null,validator:p},...h},render(t,{props:e,data:a,children:i}){let o="";for(const s in e)o+=String(e[s]);let r=f.get(o);if(!r){let t;for(t in r=[],v)v[t].forEach(a=>{const i=e[a],s=g(t,a,i);s&&r.push(s)});r.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),f.set(o,r)}return t(e.tag,Object(s["a"])(a,{staticClass:"row",class:r}),i)}})},2081:function(t,e,a){var i={"./angry.png":"903e","./blink.png":"be50","./happy.png":"6cdc","./love.png":"3be4","./normal.png":"7c34","./sad.png":"ca7c","./talk.png":"faa1","./wink.png":"e917"};function s(t){var e=o(t);return a(e)}function o(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="2081"},"269a":function(t,e){t.exports=function(t,e){var a="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var i in"function"===typeof t.exports&&(a.directives=t.exports.options.directives),a.directives=a.directives||{},e)a.directives[i]=a.directives[i]||e[i]}},3064:function(t,e,a){"use strict";a.d(e,"a",function(){return i});class i{constructor(t,e,a,i){this.conocimiento_id=t,this.material_id=e,this.material_nombre="",this.preguntas=a,this.respuestas=i,this._mostrarDetalle=!1}}},"3bab":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"py-0 px-4",attrs:{fluid:""}},[a("v-row",{staticClass:"fill-height"},[a("v-col",{staticClass:"fill-height",attrs:{cols:"12",md:"5",lg:"4"}},[a("v-card",{staticClass:"elevation-6",attrs:{height:"100%"}},[a("div",{staticClass:"chat-componente",staticStyle:{height:"100%"}},[a("Avatar",{ref:"avatar"}),a("v-container",{staticClass:"contenedor-pattern-10",staticStyle:{height:"100%"},attrs:{id:"chat-ventana"}},[t._l(t.mensajes,function(e,i){return a("div",{key:i,class:{"justify-end":1==e.autor}},[e.mensaje?a("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"chat-mensaje elevation-3",class:{"chat-mensaje-0":0==e.autor,"chat-mensaje-1":1==e.autor}},[a("span",[t._v(t._s(e.mensaje))])]):t._e()],1)}),t.enviar_mensaje?t._e():a("div",[a("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"chat-mensaje chat-mensaje-0 elevation-3",attrs:{width:"55"}},[a("v-progress-linear",{staticClass:"mt-3 mb-1",attrs:{"buffer-value":"0",stream:"",color:"primary"}})],1)],1)],2),a("div",[a("v-form",{staticClass:"chat-botones",on:{submit:function(e){return e.preventDefault(),t.enviarMensaje(e)}}},[a("v-text-field",{staticClass:"mr-3",attrs:{autocomplete:"off"},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),a("v-btn",{attrs:{loading:!t.enviar_mensaje,fab:"",icon:"",dark:"",small:"",color:"primary"},on:{click:t.enviarMensaje}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-send")])],1),a("v-btn",{attrs:{loading:t.microfono_loading,fab:"",icon:"",dark:"",small:"",color:"primary"},on:{click:function(e){return t.hablarMensaje()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-microphone")])],1),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({attrs:{fab:"",icon:"",dark:"",small:"",color:"primary"}},i),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-help-circle-outline")])],1)]}}])},[a("div",{staticClass:"contenedor-preguntas-disponibles"},[a("p",[t._v("Preguntas disponibles ("+t._s(t.conocimientos.length)+")")]),a("div",[a("v-list",t._l(t.conocimientos,function(e,i){return a("v-list-item",{key:i,on:{click:function(a){t.escribirMensaje(e.preguntas[0]),e.preguntas[0].includes("@")||t.enviarMensaje()}}},[a("v-list-item-title",[t._v(t._s(e.preguntas[0]))])],1)}),1)],1)])])],1)],1)],1)])],1),a("v-col",{staticClass:"fill-height",attrs:{cols:"12",md:"7",lg:"8"}},[a("v-tabs",{attrs:{"background-color":"primary",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",[t._v("Material")]),a("v-tab",[t._v("Cuestionario")])],1),a("v-tabs-items",{staticStyle:{height:"calc(100% - 23px)"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{staticStyle:{height:"100%"}},[a("v-card",{staticClass:"elevation-6 fill-height"},[t.material_seleccionado?a("div",{staticClass:"fill-height"},[a("v-toolbar",{attrs:{dense:"",flat:"",color:"#fff"}},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.material_seleccionado=""}}},[a("v-icon",[t._v("mdi-arrow-left")])],1),a("v-toolbar-title",[t._v(t._s(t.material_seleccionado.nombre))])],1),a("div",{staticClass:"contenedor-material-item d-flex flex-column",staticStyle:{height:"calc(100% - 48px)"}},[t.prioridad.length>1?a("div",{staticClass:"d-flex justify-space-between mt-3 mx-5",staticStyle:{position:"relative"}},[0!=t.item_seleccionado_idx?a("v-btn",{staticClass:"primary",staticStyle:{"z-index":"1"},on:{click:function(e){return t.seleccionarItem(t.item_seleccionado_idx-1)}}},[t._v("Anterior")]):t._e(),a("div"),a("div",{staticClass:"material-item-index pt-2"},[t._v(t._s(t.item_seleccionado_idx+1)+"/"+t._s(t.prioridad.length))]),t.item_seleccionado_idx<t.prioridad.length-1?a("v-btn",{staticClass:"primary",on:{click:function(e){return t.seleccionarItem(t.item_seleccionado_idx+1)}}},[t._v("Siguiente")]):t._e()],1):t._e(),a("div",{staticClass:"overflow-y-auto",staticStyle:{height:"calc(100% - 36px)"}},["texto"==t.item_seleccionado&&t.material_seleccionado.texto?a("div",{staticClass:"material-item"},[a("span",{staticClass:"material-item-titulo"},[t._v("Definición")]),a("span",[t._v(t._s(t.material_seleccionado.texto))])]):t._e(),"importancia"==t.item_seleccionado&&t.material_seleccionado.importancia?a("div",{staticClass:"material-item"},[a("span",{staticClass:"material-item-titulo"},[t._v("Importancia")]),a("span",[t._v(t._s(t.material_seleccionado.importancia))])]):t._e(),"ejemplos"==t.item_seleccionado&&t.material_seleccionado.ejemplos&&t.material_seleccionado.ejemplos.length>0?a("div",{staticClass:"material-item"},[a("span",{staticClass:"material-item-titulo"},[t._v("Ejemplos")]),a("ul",{staticClass:"mt-1"},t._l(t.material_seleccionado.ejemplos,function(e,i){return a("li",{key:i,staticClass:"my-6"},[t._v(t._s(e))])}),0)]):t._e(),"quiz"==t.item_seleccionado&&t.material_seleccionado.quiz&&t.material_seleccionado.quiz.length>0?a("div",{staticClass:"material-item"},[a("span",{staticClass:"material-item-titulo"},[t._v("Ejercicios")]),t._l(t.material_seleccionado.quiz,function(e,i){return a("div",{key:i,staticClass:"mb-6"},[a("span",{staticClass:"faq-pregunta mb-4"},[t._v(t._s(e.enunciado))]),t._l(e.alternativas,function(s,o){return a("span",{key:o,staticClass:"quiz-alternativa",class:{"quiz-alternativa-correcta":e.mostrando_correcta&&e.correcta==o},on:{click:function(e){return t.seleccionarAlternativaQuiz(i,o)}}},[t._v(t._s(s))])})],2)})],2):t._e(),"imagen"==t.item_seleccionado&&t.material_seleccionado.imagen?a("div",{staticClass:"material-item"},[a("div",{staticClass:"material-imagen"},[a("img",{attrs:{src:t.material_seleccionado.imagen,alt:""}})])]):t._e(),"video"==t.item_seleccionado&&t.material_seleccionado.video?a("div",{staticClass:"material-item material-video"},[a("div",{staticClass:"aspect-ratio-video"},[a("iframe",{staticClass:"aspect-ratio-item",attrs:{src:t.material_seleccionado.video,allowfullscreen:"",alt:""}})])]):t._e(),"documento"==t.item_seleccionado&&t.material_seleccionado.documento?a("div",{staticClass:"material-item material-documento"},[a("div",{staticClass:"aspect-ratio-documento"},[a("embed",{staticClass:"aspect-ratio-item",attrs:{src:t.material_seleccionado.documento,alt:""}})])]):t._e(),"faq"==t.item_seleccionado&&t.material_seleccionado.faq&&t.material_seleccionado.faq.length>0?a("div",{staticClass:"material-item"},[a("span",{staticClass:"material-item-titulo"},[t._v("Preguntas frecuentes")]),t._l(t.material_seleccionado.faq,function(e,i){return a("div",{key:i,staticClass:"mt-6"},[a("span",{staticClass:"faq-pregunta"},[t._v(t._s(e.pregunta))]),a("span",{staticClass:"faq-respuesta mt-2"},[t._v(t._s(e.respuesta))])])})],2):t._e(),"explicacion"==t.item_seleccionado&&t.material_seleccionado.explicacion&&t.material_seleccionado.explicacion.length>0?a("div",{staticClass:"material-item"},[a("span",{staticClass:"material-item-titulo"},[t._v("Para más información")]),a("ul",{staticClass:"mt-1"},t._l(t.material_seleccionado.explicacion,function(e,i){return a("li",{key:i,staticClass:"my-4"},[a("a",{attrs:{href:e.enlace,target:"_blank"}},[t._v(t._s(e.nombre))])])}),0)]):t._e()])])],1):a("div",{staticClass:"px-3 overflow-y-auto"},[a("v-container",[a("v-row",[t._l(t.materiales,function(e,i){return a("v-col",{key:i,attrs:{cols:"12",md:"6",lg:"4"}},[a("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cartel cartel-blue",attrs:{dark:"",flat:""},on:{click:function(a){return t.seleccionarMaterial(e["_id"]["$oid"])}}},[a("span",[t._v(t._s(e.nombre))])])],1)}),t.materiales_loading?a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"cartel-loading text-center"},[a("v-progress-circular",{attrs:{size:30,color:"primary",indeterminate:""}})],1)]):t._e()],2)],1)],1)])],1),a("v-tab-item",{staticStyle:{height:"100%"}},[t.mostrando_puntaje?a("div",{staticClass:"text-center elevation-3 fill-height"},[a("v-container",{staticClass:"overflow-y-auto"},[a("h2",{staticClass:"pa-3"},[t._v("Puntaje")]),a("v-progress-circular",{staticClass:"ma-3",staticStyle:{"font-size":"30px"},attrs:{rotate:-90,value:t.puntaje_aux/t.cuestionario_seleccionado.preguntas.length*100,size:150,width:15,color:"#4caf50"}},[t._v(t._s(t.puntaje)+"/"+t._s(t.cuestionario_seleccionado.preguntas.length))]),a("br"),a("v-btn",{staticClass:"mt-3 mb-6",on:{click:function(e){t.mostrando_puntaje=!1,t.cuestionario_seleccionado=null}}},[t._v("Volver")])],1)],1):t.cuestionario_seleccionado?a("div",{staticClass:"elevation-3 fill-height"},[a("v-container",{staticClass:"overflow-y-auto"},[a("div",{staticClass:"d-flex",staticStyle:{position:"relative"}},[a("v-btn",{staticStyle:{"z-index":"1"},attrs:{icon:"",large:""},on:{click:function(e){t.cuestionario_seleccionado=null}}},[a("v-icon",[t._v("mdi-arrow-left")])],1),a("div",{staticClass:"material-item-index pt-2"},[a("span",[t._v("Tiempo restante: "+t._s(t.cuestionario_tiempo))]),a("span",[t._v("Pregunta: "+t._s(t.p_idx+1)+"/"+t._s(t.cuestionario_seleccionado.preguntas.length))])])],1),a("v-row",{staticClass:"text-center"},[a("v-col",[a("div",{staticClass:"my-5 cuestionario-enunciado"},[t._v(t._s(t.cuestionario_seleccionado.preguntas[t.p_idx].enunciado))])])],1),a("v-row",{staticClass:"text-center",attrs:{align:"center",justify:"center"}},t._l(t.cuestionario_seleccionado.preguntas[t.p_idx].alternativas,function(e,i){return a("v-col",{key:i,attrs:{cols:"12",md:"6"}},[a("div",{staticClass:"d-flex flex-row align-center",staticStyle:{"max-width":"500px",margin:"auto"}},[a("div",{staticClass:"elevation-2 px-10 py-5 cuestionario-alternativa",class:{"cuestionario-alternativa-correcta":t.mostrando_correcta&&i==t.cuestionario_seleccionado.preguntas[t.p_idx].correcta},on:{click:function(e){return t.seleccionarAlternativa(i)}}},[t._v(t._s(e))])])])}),1)],1)],1):a("div",{staticClass:"elevation-6 fill-height"},[a("v-container",{staticClass:"overflow-y-auto px-6",attrs:{fluid:""}},[a("v-row",[t._l(t.cuestionarios,function(e,i){return a("v-col",{key:i,attrs:{cols:"12",sm:"6",lg:"4"}},[a("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cartel cartel-yellow",attrs:{dark:"",flat:""},on:{click:function(e){t.c_tab=0,t.seleccionarCuestionario(i)}}},[a("span",[t._v(t._s(e.nombre))]),a("span",{staticClass:"cartel-floating"},[t._v(t._s(e["nivel"]))]),a("div",{staticClass:"mt-2"},[a("v-progress-circular",{attrs:{size:50,value:e.evaluacion_max/e.preguntas.length*100,color:"#cfcb5f"}},[t._v(t._s(e.evaluacion_max)+"/"+t._s(e.preguntas.length))])],1)])],1)}),t.cuestionarios_loading?a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"cartel-loading text-center"},[a("v-progress-circular",{attrs:{size:30,color:"#cfcb5f",indeterminate:""}})],1)]):t._e()],2)],1)],1)])],1)],1)],1)],1)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticStyle:{background:"#f9ceff"},attrs:{elevation:"0"}},[a("img",{staticStyle:{display:"block",margin:"0 auto","max-width":"200px"},attrs:{src:t.src,"aspect-ratio":"1"},on:{error:function(e){return t.errorImage()}}}),a("v-speed-dial",{attrs:{absolute:"",bottom:"",right:"",direction:"left"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-btn",{attrs:{color:"blue darken-2",small:"",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t.fab?a("v-icon",[t._v("mdi-close")]):a("v-icon",[t._v("mdi-drama-masks")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"green"},on:{click:function(e){return t.showEmotion("HAP",t.emotion_time)}}},[a("v-icon",[t._v("mdi-emoticon-happy-outline")])],1),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"indigo"},on:{click:function(e){return t.showEmotion("SAD",t.emotion_time)}}},[a("v-icon",[t._v("mdi-emoticon-sad-outline")])],1),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"red"},on:{click:function(e){return t.showEmotion("ANG",t.emotion_time)}}},[a("v-icon",[t._v("mdi-emoticon-angry-outline")])],1)],1)],1)},r=[],n={data(){return{src:"",emotion_time:1e3,animation_timeout:null,local_images:!0,fab:!1,allAvatarStyle:["Circle","Transparent"],allTopType:["NoHair","Eyepatch","Hat","Hijab","Turban","WinterHat1","WinterHat2","WinterHat3","WinterHat4","LongHairBigHair","LongHairBob","LongHairBun","LongHairCurly","LongHairCurvy","LongHairDreads","LongHairFrida","LongHairFro","LongHairFroBand","LongHairNotTooLong","LongHairShavedSides","LongHairMiaWallace","LongHairStraight","LongHairStraight2","LongHairStraightStrand","ShortHairDreads01","ShortHairDreads02","ShortHairFrizzle","ShortHairShaggyMullet","ShortHairShortCurly","ShortHairShortFlat","ShortHairShortRound","ShortHairShortWaved","ShortHairSides","ShortHairTheCaesar","ShortHairTheCaesarSidePart"],allAccessoriesType:["Blank","Kurt","Prescription01","Prescription02","Round","Sunglasses","Wayfarers"],allHairColor:["Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","PastelPink","Platinum","Red","SilverGray"],allFacialHairType:["Blank","BeardMedium","BeardLight","BeardMagestic","MoustacheFancy","MoustacheMagnum"],allClotheType:["BlazerShirt","BlazerSweater","CollarSweater","GraphicShirt","Hoodie","Overall","ShirtCrewNeck","ShirtScoopNeck","ShirtVNeck"],allEyeType:["Close","Cry","Default","Dizzy","EyeRoll","Happy","Hearts","Side","Squint","Surprised","Wink","WinkWacky"],allEyebrowType:["Angry","AngryNatural","Default","DefaultNatural","FlatNatural","RaisedExcited","RaisedExcitedNatural","SadConcerned","SadConcernedNatural","UnibrowNatural","UpDown","UpDownNatural"],allMouthType:["Concerned","Default","Disbelief","Eating","Grimace","Sad","ScreamOpen","Serious","Smile","Tongue","Twinkle","Vomit"],allSkinColor:["Tanned","Light","Brown","DarkBrown","Black"],avatarStyle:"",topType:"",accessoriesType:"",hairColor:"",facialHairType:"",clotheType:"",eyeType:"",eyebrowType:"",mouthType:"",skinColor:""}},mounted(){this.setAvatar(0),this.setAnimationNormal()},methods:{errorImage(){this.setNormal()},setAvatar(t){let e=[{avatarStyle:"Transparent",topType:"LongHairStraightStrand",accessoriesType:"Blank",hairColor:"BrownDark",facialHairType:"Blank",clotheType:"BlazerShirt",skinColor:"Light"}];this.avatarStyle=e[t].avatarStyle,this.topType=e[t].topType,this.accessoriesType=e[t].accessoriesType,this.hairColor=e[t].hairColor,this.facialHairType=e[t].facialHairType,this.clotheType=e[t].clotheType,this.skinColor=e[t].skinColor},showEmotion(t,e){this.stopAnimation(),"HAP"==t?this.setHappy():"SAD"==t?this.setSad():"ANG"==t?this.setAngry():"LOV"==t&&this.setLove(),this.animation_timeout=setTimeout(()=>{this.setAnimationNormal()},e)},setAnimationNormal(){this.stopAnimation(),this.startAnimation("normal","blink",3e3,250)},setAnimationTalk(t){this.stopAnimation(),this.startAnimation("talk","normal",200,200),setTimeout(()=>{this.stopAnimation(),this.setAnimationNormal()},t)},startAnimation(t,e,i,s){this.src=a("2081")(`./${t}.png`),this.animation_timeout=setTimeout(()=>{this.src=a("2081")(`./${e}.png`),this.startAnimation(e,t,s,i)},i)},stopAnimation(){clearTimeout(this.animation_timeout)},setNormal(){this.local_images?this.src=a("7c34"):(this.eyeType="Default",this.eyebrowType="DefaultNatural",this.mouthType="Twinkle",this.updateAvatar())},setHappy(){this.local_images?this.src=a("6cdc"):(this.eyeType="Happy",this.eyebrowType="RaisedExcitedNatural",this.mouthType="Smile",this.updateAvatar())},setSad(){this.local_images?this.src=a("ca7c"):(this.eyeType="Cry",this.eyebrowType="SadConcernedNatural",this.mouthType="Sad",this.updateAvatar())},setAngry(){this.local_images?this.src=a("903e"):(this.eyeType="Close",this.eyebrowType="AngryNatural",this.mouthType="Serious",this.updateAvatar())},setLove(){this.local_images&&(this.src=a("3be4"))},updateAvatar(){this.src="https://avataaars.io/png?"+`avatarStyle=${this.avatarStyle}`+`&topType=${this.topType}`+`&accessoriesType=${this.accessoriesType}`+`&hairColor=${this.hairColor}`+`&facialHairType=${this.facialHairType}`+`&clotheType=${this.clotheType}`+`&eyeType=${this.eyeType}`+`&eyebrowType=${this.eyebrowType}`+`&mouthType=${this.mouthType}`+`&skinColor=${this.skinColor}`}}},l=n,c=a("2877"),u=a("6544"),m=a.n(u),d=a("8336"),p=a("b0af"),h=a("132d"),v=(a("8cd0"),a("f2e7")),_=a("fe6c"),g=a("f40d"),f=a("a293"),b=a("58df"),y=Object(b["a"])(_["a"],v["a"],g["a"]).extend({name:"v-speed-dial",directives:{ClickOutside:f["a"]},props:{direction:{type:String,default:"top",validator:t=>{return["top","right","bottom","left"].includes(t)}},openOnHover:Boolean,transition:{type:String,default:"scale-transition"}},computed:{classes(){return{"v-speed-dial":!0,"v-speed-dial--top":this.top,"v-speed-dial--right":this.right,"v-speed-dial--bottom":this.bottom,"v-speed-dial--left":this.left,"v-speed-dial--absolute":this.absolute,"v-speed-dial--fixed":this.fixed,[`v-speed-dial--direction-${this.direction}`]:!0,"v-speed-dial--is-active":this.isActive}}},render(t){let e=[];const a={class:this.classes,directives:[{name:"click-outside",value:()=>this.isActive=!1}],on:{click:()=>this.isActive=!this.isActive}};if(this.openOnHover&&(a.on.mouseenter=()=>this.isActive=!0,a.on.mouseleave=()=>this.isActive=!1),this.isActive){let a=0;e=(this.$slots.default||[]).map((e,i)=>{return!e.tag||"undefined"===typeof e.componentOptions||"v-btn"!==e.componentOptions.Ctor.options.name&&"v-tooltip"!==e.componentOptions.Ctor.options.name?(e.key=i,e):(a++,t("div",{style:{transitionDelay:.05*a+"s"},key:i},[e]))})}const i=t("transition-group",{class:"v-speed-dial__list",props:{name:this.transition,mode:this.mode,origin:this.origin,tag:"div"}},e);return t("div",a,[this.$slots.activator,i])}}),C=Object(c["a"])(l,o,r,!1,null,"83fd3f3a",null),S=C.exports;m()(C,{VBtn:d["a"],VCard:p["a"],VIcon:h["a"],VSpeedDial:y});var x=a("3064"),T={data(){return{items:[{nombre:"texto",respuesta:""},{nombre:"importancia",respuesta:""},{nombre:"ejemplos",respuesta:"Te muestro algunos ejemplos de @."},{nombre:"quiz",respuesta:"Te muestro algunos ejercicios de @."},{nombre:"imagen",respuesta:"Te muestro esta imagen de @."},{nombre:"video",respuesta:"Te muestro este video de @."},{nombre:"documento",respuesta:"Te muestro este documento de @."},{nombre:"explicacion",respuesta:"Aquí puedes conseguir más información de @."},{nombre:"faq",respuesta:""}],mensajes:[new k(0,"Soy tu docente virtual. Prueba escribiéndome algo.")],materiales:[],conocimientos:[],cuestionarios:[],cuestionario_tiempo:0,cuestionario_cronometro:0,material_seleccionado:null,item_seleccionado:"",item_seleccionado_idx:0,prioridad:[],cuestionario_seleccionado:null,p_idx:0,puntaje:0,puntaje_aux:0,materiales_loading:!0,cuestionarios_loading:!0,microfono_loading:!1,enviar_mensaje:!0,mostrando_correcta:!1,mostrando_correcta_tiempo:1e3,mostrando_puntaje:!1,tab:0,c_tab:0,texto:"",avatar_component:null,emotion_time:1500}},mounted(){this.avatar_component=this.$refs["avatar"],this.tema_id=this.$route.params["tema_id"],this.sesion=this.$store.state.servicio.sesion.obtenerSesion(),this.scrollDown(),this.obtenerMateriales(),this.obtenerCuestionarioPorTema()},methods:{seleccionarMaterial(t,e=""){let a=!0,i="profesor"==this.sesion.tipo||e?this.$store.state.servicio.material.obtenerMaterialPorId:this.$store.state.servicio.material.obtenerMaterialPorAlumnoId;i(this.sesion.id,t,t=>{if(e)if(["importancia","texto"].includes(e))this.agregarMensajeAnimado(t[e]),a=!1;else{let a=this.items.find(t=>t["nombre"]==e)["respuesta"].replace(/@/,t["nombre"]);this.agregarMensajeAnimado(a),this.prioridad=[{item:e}]}else t["prioridad"]?(this.prioridad=t["prioridad"],this.prioridad.sort((t,e)=>e.puntaje-t.puntaje)):this.prioridad=this.items.map(t=>{let e={item:t["nombre"]};return e});a&&(this.tab=0,this.material_seleccionado=t,this.seleccionarItem(0))},t=>{console.log(t)})},seleccionarItem(t){t=Math.max(0,Math.min(this.prioridad.length-1,t)),this.item_seleccionado_idx=t,this.item_seleccionado=this.prioridad[t]["item"]},obtenerCuestionarioPorTema(){this.$store.state.servicio.cuestionario.obtenerCuestionarioPorTema(this.tema_id,t=>{this.cuestionarios_loading=!1,this.cuestionarios=t.map(t=>new w(t.cuestionario_id,t.nombre,t.preguntas,t.nivel,t.tiempo)),this.obtenerEvaluaciones()},t=>{this.cuestionarios_loading=!1,console.log(t)})},actualizarEvaluacion(t,e){this.$store.state.servicio.evaluacion.actualizarEvaluacion(this.sesion["id"],t,this.obtenerFechaActual(),e,t=>{this.obtenerEvaluaciones()},t=>{})},obtenerEvaluaciones(){this.cuestionarios.forEach(t=>{this.$store.state.servicio.evaluacion.obtenerEvaluacion(this.sesion["id"],t.id,e=>{t.evaluaciones=e,e.length&&(t.evaluacion_max=Math.max(...e.map(t=>t.nota)))},t=>{console.log(t)})})},obtenerMateriales(){this.$store.state.servicio.material.obtenerMaterialPorTema(this.$route.params["tema_id"],t=>{this.materiales_loading=!1,this.materiales=JSON.parse(t),this.obtenerConocimientos()},t=>{this.materiales_loading=!1,console.log(t)})},seleccionarCuestionario(t){this.cuestionario_seleccionado=Object.assign({},this.cuestionarios[t]),this.p_idx=0,this.puntaje=0,this.cuestionario_tiempo=this.cuestionario_seleccionado["tiempo"],this.iniciarCronometro()},iniciarCronometro(){clearInterval(this.cuestionario_cronometro),this.cuestionario_cronometro=setInterval(()=>{this.cuestionario_tiempo--,this.cuestionario_tiempo<=0&&this.finalizarCuestionario()},1e3)},finalizarCuestionario(){if(clearInterval(this.cuestionario_cronometro),this.cuestionario_seleccionado){let t=this.cuestionario_seleccionado.preguntas.length;this.mostrando_puntaje=!0,this.puntaje_aux=0,this.actualizarEvaluacion(this.cuestionario_seleccionado["id"],this.puntaje),setTimeout(()=>{this.puntaje_aux=this.puntaje},200),0==this.puntaje||(this.puntaje==t?(this.avatar_component.showEmotion("LOV",this.emotion_time),this.agregarMensaje(0,"Excelente.",()=>{})):this.agregarMensaje(0,`Acertaste ${this.puntaje} de ${t} preguntas.`,()=>{}))}},seleccionarAlternativaQuiz(t,e){this.material_seleccionado.quiz[t].mostrando_correcta||(this.material_seleccionado.quiz[t].mostrando_correcta=!0,this.material_seleccionado.quiz[t].correcta==e?(this.TextToSpeech("Respuesta correcta.",()=>{}),this.avatar_component.showEmotion("HAP",this.emotion_time)):(this.TextToSpeech("Respuesta incorrecta.",()=>{}),this.avatar_component.showEmotion("SAD",this.emotion_time)),this.$forceUpdate())},seleccionarAlternativa(t){if(!this.mostrando_correcta){this.mostrando_correcta=!0;let e=this.cuestionario_seleccionado.preguntas.length;this.cuestionario_seleccionado.preguntas[this.p_idx].correcta==t?(this.puntaje++,this.TextToSpeech("Respuesta correcta.",()=>{}),this.avatar_component.showEmotion("HAP",this.emotion_time)):(this.TextToSpeech("Respuesta incorrecta.",()=>{}),this.avatar_component.showEmotion("SAD",this.emotion_time)),setTimeout(()=>{this.p_idx<e-1?this.p_idx++:this.finalizarCuestionario(),this.mostrando_correcta=!1},this.mostrando_correcta_tiempo)}},enviarMensaje(){if(0!=this.texto.trim().length&&this.enviar_mensaje){this.enviar_mensaje=!1,this.mensajes.push(new k(1,this.texto));let t=this.$route.params["tema_id"],e=this.texto;this.texto="",this.obtenerRespuesta(t,e),this.scrollDown()}},agregarMensaje(t,e,a){this.mensajes.push(new k(t,e)),this.TextToSpeech(e,a),this.scrollDown()},agregarMensajeAnimado(t){setTimeout(()=>{this.avatar_component.setAnimationTalk(2147483647)},250),this.agregarMensaje(0,t,t=>{this.avatar_component.stopAnimation(),this.avatar_component.setAnimationNormal()})},obtenerRespuesta(t,e){let a="profesor"==this.sesion.tipo?this.$store.state.servicio.chat.obtenerRespuestaProfesor:this.$store.state.servicio.chat.obtenerRespuestaAlumno;"profesor"==this.sesion.tipo?this.$store.state.servicio.material.obtenerMaterialPorId:this.$store.state.servicio.material.obtenerMaterialPorAlumnoId;a(t,e,this.sesion.id,t=>{this.enviar_mensaje=!0,t&&(t["respuesta"]&&this.agregarMensajeAnimado(t["respuesta"]),t["material_id"]&&this.seleccionarMaterial(t["material_id"],t["respuesta_item"]))},t=>{this.enviar_mensaje=!0,this.scrollDown(),console.log(t)})},scrollDown(){var t=document.getElementById("chat-ventana");setTimeout(()=>{t.scrollTop=t.scrollHeight},0)},obtenerPreguntaMaterial(){this.$store.state.servicio.obtenerPreguntaMaterial(t=>{console.log(t)},t=>{})},obtenerConocimientos(){this.$store.state.servicio.obtenerPreguntaMaterial(t=>{let e=t;this.$store.state.servicio.conocimiento.obtenerConocimientoPorTema(this.tema_id,t=>{this.conocimientos=JSON.parse(t),this.materiales.forEach(t=>{this.items.forEach(a=>{if("faq"!=a["nombre"]){let i=e[a["nombre"]].replace(/@/,t["nombre"]);this.conocimientos.push(new x["a"]("","",[i],""))}else t["faq"].forEach(t=>{this.conocimientos.push(new x["a"]("","",[t["pregunta"]],""))})})})},t=>{console.log(t)})},t=>{console.log(t)})},escribirMensaje(t){this.texto=t},hablarMensaje(){this.microfono_loading=!0,setTimeout(()=>{this.microfono_loading=!1},1e4),this.SpeechToText(t=>{this.microfono_loading=!1,this.texto=t,this.enviarMensaje()})},TextToSpeech(t,e){if("speechSynthesis"in window){var a=window.speechSynthesis;a.cancel();var i=new SpeechSynthesisUtterance(t);i.rate=1,i.pitch=1.5,i.lang="es-ES",i.onend=e,a.speak(i)}},SpeechToText(t){var e=e||webkitSpeechRecognition,a=new e;a.start(),a.onresult=function(e){var a=e.results.length-1,i=e.results[a][0].transcript;t(i)}},obtenerFechaActual(){var t=new Date,e=t.getDate(),a=t.getMonth()+1,i=t.getFullYear();return e<10&&(e="0"+e),a<10&&(a="0"+a),e+"/"+a+"/"+i}},components:{Avatar:S}};class k{constructor(t,e,a,i){this.autor=t,this.mensaje=e,this.texto=a,this.video=i}}class w{constructor(t,e,a,i,s){this.id=t,this.nombre=e,this.preguntas=a,this.evaluaciones=[],this.evaluacion_max=0,this.nivel=i,this.tiempo=s}}var j=T,A=(a("a412"),a("62ad")),H=a("a523"),$=a("4bd4"),M=a("8860"),E=a("da13"),N=a("5d23"),D=a("e449"),z=a("490a"),L=a("8e36"),O=a("0fd9"),B=a("71a3"),P=a("c671"),V=a("fe57"),q=a("aac8"),I=a("8654"),R=a("71d9"),F=a("2a7f"),W=a("269a"),G=a.n(W),U=a("5607"),J=Object(c["a"])(j,i,s,!1,null,"458f3199",null);e["a"]=J.exports;m()(J,{VBtn:d["a"],VCard:p["a"],VCol:A["a"],VContainer:H["a"],VForm:$["a"],VIcon:h["a"],VList:M["a"],VListItem:E["a"],VListItemTitle:N["b"],VMenu:D["a"],VProgressCircular:z["a"],VProgressLinear:L["a"],VRow:O["a"],VTab:B["a"],VTabItem:P["a"],VTabs:V["a"],VTabsItems:q["a"],VTextField:I["a"],VToolbar:R["a"],VToolbarTitle:F["b"]}),G()(J,{Ripple:U["a"]})},"3be4":function(t,e,a){t.exports=a.p+"img/love.30a56308.png"},"40b1":function(t,e,a){},"62ad":function(t,e,a){"use strict";a("4b85");var i=a("2b0e"),s=a("d9f7"),o=a("80d2");const r=["sm","md","lg","xl"],n=(()=>{return r.reduce((t,e)=>{return t[e]={type:[Boolean,String,Number],default:!1},t},{})})(),l=(()=>{return r.reduce((t,e)=>{return t["offset"+Object(o["y"])(e)]={type:[String,Number],default:null},t},{})})(),c=(()=>{return r.reduce((t,e)=>{return t["order"+Object(o["y"])(e)]={type:[String,Number],default:null},t},{})})(),u={col:Object.keys(n),offset:Object.keys(l),order:Object.keys(c)};function m(t,e,a){let i=t;if(null!=a&&!1!==a){if(e){const a=e.replace(t,"");i+=`-${a}`}return"col"!==t||""!==a&&!0!==a?(i+=`-${a}`,i.toLowerCase()):i.toLowerCase()}}const d=new Map;e["a"]=i["a"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...n,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:a,children:i,parent:o}){let r="";for(const s in e)r+=String(e[s]);let n=d.get(r);if(!n){let t;for(t in n=[],u)u[t].forEach(a=>{const i=e[a],s=m(t,a,i);s&&n.push(s)});const a=n.some(t=>t.startsWith("col-"));n.push({col:!a||!e.cols,[`col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),d.set(r,n)}return t(e.tag,Object(s["a"])(a,{class:n}),i)}})},"6cdc":function(t,e,a){t.exports=a.p+"img/happy.5957357e.png"},"7c34":function(t,e,a){t.exports=a.p+"img/normal.75042710.png"},"8cd0":function(t,e,a){},"903e":function(t,e,a){t.exports=a.p+"img/angry.02d4b4be.png"},a412:function(t,e,a){"use strict";var i=a("40b1"),s=a.n(i);s.a},be50:function(t,e,a){t.exports=a.p+"img/blink.bf6e39e7.png"},ca7c:function(t,e,a){t.exports=a.p+"img/sad.83def403.png"},e917:function(t,e,a){t.exports=a.p+"img/wink.eb282a80.png"},faa1:function(t,e,a){t.exports=a.p+"img/talk.024b94b6.png"}}]);
//# sourceMappingURL=chunk-0a18aa57.d49d1058.js.map